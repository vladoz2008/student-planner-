# Ежедневник студента - Технические решения

## Общее описание
Проект "Ежедневник студента" — это веб-приложение для управления временем и задачами. Оно включает главную страницу, управление предметами, задачами, календарь и статистику. Используются HTML, CSS и JavaScript с локальным хранилищем (`localStorage`) для сохранения данных.


## Технические решения

### 1. Структура проекта
- **HTML-файлы**: Разделены на 5 страниц (`index.html`, `subjects.html`, `tasks.html`, `calendar.html`, `stats.html`) для модульности и удобства навигации.
- **CSS**: Один файл `styles.css` с переменными (`:root`) для тем и общими стилями для всех страниц.
- **JavaScript**: Один файл `script.js` для логики, работающий на всех страницах через проверку наличия элементов (`if (element)`).

**Почему так**: Модульность упрощает поддержку, а единые стили и скрипты минимизируют дублирование кода.


### 2. Хранение данных
- **Технология**: `localStorage` для сохранения предметов, задач, достижений и статистики.
- **Формат**: JSON для сериализации объектов (`subjects`, `tasks`, `achievements`, `dailyStats`).
- **Функция `saveAndRender`**: Центральная точка сохранения и обновления интерфейса.

**Почему так**: `localStorage` прост в использовании, не требует серверной части, а JSON удобен для работы с объектами.


### 3. Таймер
- **Реализация**: Один глобальный `timer` (`setInterval`) с переключением через `toggleTimer`. Состояние отслеживается через `isRunning` в объекте предмета.
- **Обновление в реальном времени**: `renderSubjects` вызывается каждую секунду через `saveAndRender`, обновляя `<span id="time-${index}">`.
- **Запуск без модального окна**: Кнопка `.timer-btn` вызывает `toggleTimer(index)` напрямую.

**Почему так**: Единый таймер экономит ресурсы, а `isRunning` позволяет синхронизировать состояние между страницей и модальным окном.


### 4. Формат времени
- **Формат**: "ч мин сек" вместо "HH:MM:SS" для читаемости.
- **Функции**: `formatTime` преобразует секунды в строку, `parseTime` парсит строку в секунды.
- **Ручной ввод**: Поддержка формата "1 30 0" в модальном окне.

**Почему так**: Читаемый формат удобен для пользователя, а парсинг через пробелы прост в реализации.


### 5. Модальные окна
- **Центрирование**: CSS `position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%)`.
- **Управление**: Открытие через явные функции (`openTimerModal`, `openTaskEditModal`), закрытие через `closeModal`.
- **Фикс автозапуска**: Убрано автоматическое открытие при загрузке, только по клику.

**Почему так**: Центрирование через `transform` надёжно работает на всех экранах, а явное управление упрощает отладку.

---

### 6. Темы оформления
- **Переменные CSS**: `:root` и классы (`cosmos`, `nature`) для смены цветов.
- **Сохранение**: `localStorage` хранит выбранную тему.
- **Частицы**: `particles.js` адаптируется под тему через `initParticles`.

**Почему так**: Переменные CSS минимизируют дублирование, а `localStorage` сохраняет выбор пользователя.


### 7. Дополнительные фичи
- **Календарь**: `FullCalendar` для отображения задач